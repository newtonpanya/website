<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ğŸ§§ YCT Online Quiz (Reading + Listening)</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#E8F5FF; --card:#ffffff; --accent:#0288D1; --accent-2:#03A9F4;
    --good:#4CAF50; --bad:#E53935; --hint:#1976D2; --muted:#666;
  }
  body{
    font-family: "Noto Sans SC", "Arial", sans-serif;
    background: linear-gradient(180deg, #f4fbff 0%, var(--bg) 100%);
    margin:0; padding:20px;
    min-height:100vh;
  }
  .container{ max-width:980px; margin:0 auto; background:var(--card); padding:22px; border-radius:14px;
    box-shadow:0 6px 22px rgba(3,64,120,0.08);
  }
  h1{ text-align:center; color:var(--accent); margin:0 0 12px 0; }
  p.lead{ text-align:center; color:var(--muted); margin-top:6px; }
  .flex{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin:14px 0; }
  button{ background:var(--accent-2); color:#fff; border:none; padding:10px 14px; border-radius:10px; cursor:pointer;
    font-weight:600; box-shadow:0 4px 10px rgba(3,169,244,0.12);
  }
  button.ghost{ background:#fff; color:var(--accent-2); border:1px solid var(--accent-2); }
  .hidden{ display:none !important; }
  .card{ background:linear-gradient(180deg,#fff,#fbfeff); border-radius:12px; padding:14px; box-shadow:0 4px 14px rgba(2,136,209,0.04); }
  .timer{ text-align:center; font-weight:700; color:var(--accent); font-size:1.1rem; margin-bottom:12px; }
  .question{ font-size:1.15rem; padding:10px 12px; border-radius:10px; background:rgba(2,136,209,0.05); margin-bottom:10px; }
  .options button{ display:block; width:100%; margin:8px 0; padding:10px; border-radius:8px; text-align:left; background:#fff; border:1px solid #e6f4ff; color:#013e5a; }
  .options button.correct{ background:var(--good); color:#fff; border-color:transparent; }
  .options button.wrong{ background:var(--bad); color:#fff; border-color:transparent; }
  .options button.answer{ background:#E3F2FD; color:var(--hint); border-color:transparent; }
  .meta{ display:flex; gap:10px; justify-content:space-between; align-items:center; margin-bottom:10px; flex-wrap:wrap; }
  input[type="text"]{ padding:8px 10px; border-radius:8px; border:1px solid #ddd; width:calc(100% - 16px); }
  table{ width:100%; border-collapse:collapse; margin-top:12px; }
  th,td{ padding:8px; border:1px solid #e9f4ff; text-align:center; }
  th{ background:linear-gradient(90deg,var(--accent-2),var(--accent)); color:#fff; }
  .small{ font-size:0.9rem; color:var(--muted); }
  .center{ text-align:center; }
  .badge{ display:inline-block; padding:6px 8px; border-radius:8px; background:#fff; border:1px solid #e6f4ff; color:var(--accent); font-weight:600; }
  .result-good{ color:var(--good); font-weight:700; }
  .result-bad{ color:var(--bad); font-weight:700; }
  .controls{ display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
  footer{ margin-top:14px; text-align:center; color:var(--muted); font-size:0.9rem; }
  .play-btn{ background:#fff; color:var(--accent-2); border:1px solid rgba(3,169,244,0.25); padding:8px 10px; border-radius:8px; }
  @media (min-width:700px){
    .options button{ width:49%; display:inline-block; }
  }
</style>
</head>
<body>

<div class="container">
  <h1>ğŸ§§ YCT Online Quiz</h1>
  <p class="lead small">à¹€à¸¥à¸·à¸­à¸à¸Šà¸¸à¸” => à¸£à¸°à¸šà¸šà¸ˆà¸°à¹€à¸¥à¹ˆà¸™à¸à¸²à¸£à¹Œà¸— à¸Ÿà¸±à¸‡(å¬åŠ›) à¸à¹ˆà¸­à¸™ à¹à¸¥à¹‰à¸§à¸•à¹ˆà¸­à¸”à¹‰à¸§à¸¢ à¸­à¹ˆà¸²à¸™(é˜…è¯»)</p>

  <!-- Start Screen -->
  <div id="startScreen" class="card">
    <div class="flex">
      <button onclick="beginSet('YCT1')">à¹€à¸£à¸´à¹ˆà¸¡ YCT1 (å¬åŠ›20 + é˜…è¯»15)</button>
      <button onclick="beginSet('YCT2')">à¹€à¸£à¸´à¹ˆà¸¡ YCT2 (å¬åŠ›20 + é˜…è¯»20)</button>
      <button class="ghost" onclick="showLeaderboard()">ğŸ† Leaderboard</button>
      <button class="ghost" onclick="enterTeacherMode()">ğŸ‘©â€ğŸ« à¹‚à¸«à¸¡à¸”à¸„à¸£à¸¹</button>
    </div>
    <div class="flex center">
      <div class="badge">à¹€à¸§à¸¥à¸² / à¸‚à¹‰à¸­ = 60 à¸§à¸´à¸™à¸²à¸—à¸µ</div>
      <div class="badge">à¸œà¹ˆà¸²à¸™ â‰¥ 120 / 200</div>
      <div class="badge">à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¹‡à¸šà¹ƒà¸™ LocalStorage</div>
    </div>
  </div>

  <!-- Quiz -->
  <div id="quizScreen" class="card hidden">
    <div class="meta">
      <div class="timer" id="timer">à¹€à¸§à¸¥à¸²: 60</div>
      <div>
        <button class="play-btn" onclick="playCurrentTTS()">ğŸ”Š à¸Ÿà¸±à¸‡à¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡</button>
        <span id="partLabel" class="small"></span>
      </div>
    </div>

    <div id="questionBox"></div>
    <div id="controlsRow" class="controls"></div>
  </div>

  <!-- Result -->
  <div id="resultScreen" class="card hidden">
    <h2 class="center">à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ</h2>
    <p id="scoreSummary" class="center"></p>
    <div id="passFail" class="center small"></div>

    <h3>à¹€à¸‰à¸¥à¸¢</h3>
    <div id="answerList"></div>

    <label>à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸à¹ˆà¸­à¸™à¸šà¸±à¸™à¸—à¸¶à¸:</label>
    <input id="studentName" type="text" placeholder="à¸Šà¸·à¹ˆà¸­à¸‚à¸­à¸‡à¸„à¸¸à¸“ (à¸ˆà¸³à¹€à¸›à¹‡à¸™)">

    <div class="flex" style="margin-top:10px;">
      <button onclick="saveResult()">ğŸ’¾ à¸šà¸±à¸™à¸—à¸¶à¸</button>
      <button class="ghost" onclick="backToHome()">ğŸ  à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸</button>
      <button class="ghost" onclick="showLeaderboard()">ğŸ† Leaderboard</button>
    </div>
  </div>

  <!-- Leaderboard -->
  <div id="leaderboardScreen" class="card hidden">
    <h2 class="center">ğŸ† Leaderboard</h2>
    <table id="leaderboardTable"><thead>
      <tr><th>à¸Šà¸·à¹ˆà¸­</th><th>à¸„à¸°à¹à¸™à¸™à¸”à¸´à¸š</th><th>à¸„à¸°à¹à¸™à¸™à¸ˆà¸£à¸´à¸‡</th><th>à¹€à¸§à¸¥à¸²</th><th>à¸¥à¸š</th></tr>
    </thead><tbody></tbody></table>

    <div class="flex" style="margin-top:10px;">
      <button class="ghost" onclick="clearLocalScores()">ğŸ§¹ à¸¥à¹‰à¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”</button>
      <button class="ghost" onclick="backToHome()">ğŸ  à¸à¸¥à¸±à¸š</button>
    </div>
  </div>

  <!-- Teacher -->
  <div id="teacherScreen" class="card hidden">
    <h2 class="center">ğŸ‘©â€ğŸ« à¹‚à¸«à¸¡à¸”à¸„à¸£à¸¹</h2>
    <div class="small center">à¸£à¸«à¸±à¸ª: <b>2222</b></div>
    <table id="teacherTable"><thead>
      <tr><th>à¸Šà¸·à¹ˆà¸­</th><th>à¸„à¸°à¹à¸™à¸™à¸”à¸´à¸š</th><th>à¸„à¸°à¹à¸™à¸™à¸ˆà¸£à¸´à¸‡</th><th>à¹€à¸§à¸¥à¸²</th><th>à¸¥à¸š</th></tr>
    </thead><tbody></tbody></table>

    <div class="flex" style="margin-top:10px;">
      <button onclick="addRecord()">â• à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥</button>
      <button class="ghost" onclick="backToHome()">ğŸ  à¸à¸¥à¸±à¸š</button>
    </div>
  </div>

  <footer>YCT Quiz â€” LocalStorage Version</footer>
</div>

<script>
/* ===== à¸Šà¸¸à¸”à¸„à¸³à¸–à¸²à¸¡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” ===== */
const questions = {
  /* ===== YCT1 Listening ===== */
  YCT1_listen: [
    {q:"ä»–æ˜¯è€å¸ˆã€‚tÄ shÃ¬ lÇoshÄ«.", opts:["à¹€à¸‚à¸²à¹€à¸›à¹‡à¸™à¸„à¸£à¸¹","à¹€à¸‚à¸²à¹€à¸›à¹‡à¸™à¸™à¸±à¸à¹€à¸£à¸µà¸¢à¸™","à¹€à¸‚à¸²à¹€à¸›à¹‡à¸™à¸«à¸¡à¸­"], ans:0},
    {q:"è°¢è°¢ï¼xiÃ¨xie!", opts:["à¸ªà¸§à¸±à¸ªà¸”à¸µ","à¸‚à¸­à¸šà¸„à¸¸à¸“","à¸¥à¸²à¸à¹ˆà¸­à¸™"], ans:1},
    {q:"å†è§ï¼zÃ ijiÃ n!", opts:["à¸¥à¸²à¸à¹ˆà¸­à¸™","à¸ªà¸§à¸±à¸ªà¸”à¸µ","à¸‚à¸­à¸šà¸„à¸¸à¸“"], ans:0},
    {q:"å¦ˆå¦ˆ mÄma", opts:["à¸à¹ˆà¸­","à¹à¸¡à¹ˆ","à¸à¸µà¹ˆà¸ªà¸²à¸§"], ans:1},
    {q:"æˆ‘çˆ±ä½  wÇ’ Ã i nÇ", opts:["à¸‰à¸±à¸™à¸£à¸±à¸à¹€à¸˜à¸­","à¸‰à¸±à¸™à¹€à¸à¸¥à¸µà¸¢à¸”à¹€à¸˜à¸­","à¸ªà¸§à¸±à¸ªà¸”à¸µ"], ans:0},
    {q:"ä»–æ˜¯è°ï¼ŸtÄ shÃ¬ shuÃ­?", opts:["à¹€à¸‚à¸²à¸­à¸¢à¸¹à¹ˆà¹„à¸«à¸™","à¹€à¸‚à¸²à¹€à¸›à¹‡à¸™à¹ƒà¸„à¸£","à¹€à¸‚à¸²à¸—à¸³à¸­à¸°à¹„à¸£"], ans:1},
    {q:"æˆ‘å–œæ¬¢è‹¹æœã€‚", opts:["à¸‰à¸±à¸™à¸Šà¸­à¸šà¹à¸­à¸›à¹€à¸›à¸´à¹‰à¸¥","à¸‰à¸±à¸™à¸à¸´à¸™à¸à¸¥à¹‰à¸§à¸¢","à¸‰à¸±à¸™à¹„à¸¡à¹ˆà¸Šà¸­à¸šà¸ªà¹‰à¸¡"], ans:0},
    {q:"è°¢è°¢è€å¸ˆã€‚", opts:["à¸‚à¸­à¸šà¸„à¸¸à¸“à¸„à¸£à¸¹","à¸¥à¸²à¸à¹ˆà¸­à¸™à¸„à¸£à¸¹","à¸„à¸£à¸¹à¸­à¸¢à¸¹à¹ˆà¹„à¸«à¸™"], ans:0},
    {q:"æˆ‘å«æ˜æ˜ã€‚", opts:["à¸‰à¸±à¸™à¸Šà¸·à¹ˆà¸­à¸«à¸¡à¸´à¸‡à¸«à¸¡à¸´à¸‡","à¸‰à¸±à¸™à¸Šà¸·à¹ˆà¸­à¸«à¸‡à¸«à¸‡","à¸‰à¸±à¸™à¸Šà¸·à¹ˆà¸­à¸­à¸²à¹€à¸•à¹‹à¸­"], ans:0},
    {q:"ä½ å¥½å—ï¼Ÿ", opts:["à¹€à¸˜à¸­à¸­à¸¢à¸¹à¹ˆà¸—à¸µà¹ˆà¹„à¸«à¸™","à¸ªà¸šà¸²à¸¢à¸”à¸µà¹„à¸«à¸¡","à¹€à¸˜à¸­à¸—à¸³à¸­à¸°à¹„à¸£"], ans:1},
    {q:"æˆ‘å¾ˆå¥½ã€‚", opts:["à¸‰à¸±à¸™à¸”à¸µà¸¡à¸²à¸","à¸‰à¸±à¸™à¹€à¸«à¸™à¸·à¹ˆà¸­à¸¢","à¸‰à¸±à¸™à¹€à¸¨à¸£à¹‰à¸²"], ans:0},
    {q:"çˆ¸çˆ¸åœ¨å®¶ã€‚", opts:["à¸à¹ˆà¸­à¸­à¸¢à¸¹à¹ˆà¸šà¹‰à¸²à¸™","à¹à¸¡à¹ˆà¸­à¸¢à¸¹à¹ˆà¸šà¹‰à¸²à¸™","à¸à¹ˆà¸­à¸­à¸¢à¸¹à¹ˆà¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™"], ans:0},
    {q:"æˆ‘æœ‰ä¸€ä¸ªå“¥å“¥ã€‚", opts:["à¸‰à¸±à¸™à¸¡à¸µà¸à¸µà¹ˆà¸Šà¸²à¸¢à¸«à¸™à¸¶à¹ˆà¸‡à¸„à¸™","à¸‰à¸±à¸™à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸µà¹ˆà¸Šà¸²à¸¢","à¸‰à¸±à¸™à¸¡à¸µà¸™à¹‰à¸­à¸‡à¸Šà¸²à¸¢"], ans:0},
    {q:"æˆ‘å–œæ¬¢å­¦ä¹ ã€‚", opts:["à¸‰à¸±à¸™à¸Šà¸­à¸šà¹€à¸£à¸µà¸¢à¸™","à¸‰à¸±à¸™à¹€à¸à¸¥à¸µà¸¢à¸”à¹€à¸£à¸µà¸¢à¸™","à¸‰à¸±à¸™à¸­à¸¢à¸²à¸à¸™à¸­à¸™"], ans:0},
    {q:"è°¢è°¢ä½ ã€‚", opts:["à¸ªà¸§à¸±à¸ªà¸”à¸µ","à¸‚à¸­à¸šà¸„à¸¸à¸“","à¸¥à¸²à¸à¹ˆà¸­à¸™"], ans:1},
    {q:"ä»Šå¤©å¤©æ°”å¾ˆå¥½ã€‚", opts:["à¸§à¸±à¸™à¸™à¸µà¹‰à¸­à¸²à¸à¸²à¸¨à¸”à¸µ","à¸§à¸±à¸™à¸™à¸µà¹‰à¸­à¸²à¸à¸²à¸¨à¸£à¹‰à¸­à¸™","à¸§à¸±à¸™à¸™à¸µà¹‰à¸à¸™à¸•à¸"], ans:0},
    {q:"æˆ‘åœ¨å­¦æ ¡ã€‚", opts:["à¸‰à¸±à¸™à¸­à¸¢à¸¹à¹ˆà¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™","à¸‰à¸±à¸™à¸­à¸¢à¸¹à¹ˆà¸šà¹‰à¸²à¸™","à¸‰à¸±à¸™à¹„à¸›à¸•à¸¥à¸²à¸”"], ans:0},
    {q:"ä½ ä¼šæ¸¸æ³³å—ï¼Ÿ", opts:["à¸§à¹ˆà¸²à¸¢à¸™à¹‰à¸³à¹„à¸”à¹‰à¹„à¸«à¸¡","à¹€à¸•à¹‰à¸™à¹„à¸”à¹‰à¹„à¸«à¸¡","à¸§à¸´à¹ˆà¸‡à¹„à¸”à¹‰à¹„à¸«à¸¡"], ans:0},
    {q:"è¯·åã€‚", opts:["à¹€à¸Šà¸´à¸à¸™à¸±à¹ˆà¸‡","à¹€à¸Šà¸´à¸à¸à¸´à¸™","à¹€à¸Šà¸´à¸à¹€à¸‚à¹‰à¸²"], ans:0},
    {q:"ä¸è¦è¯´è¯ã€‚", opts:["à¸­à¸¢à¹ˆà¸²à¸à¸¹à¸”","à¸­à¸¢à¹ˆà¸²à¸à¸´à¸™","à¸­à¸¢à¹ˆà¸²à¹€à¸”à¸´à¸™"], ans:0}
  ],

  /* ===== YCT1 Reading ===== */
  YCT1_read: [
    {q:"æˆ‘çˆ±ä½ ", opts:["à¸‰à¸±à¸™à¸£à¸±à¸à¹€à¸˜à¸­","à¸‰à¸±à¸™à¹€à¸à¸¥à¸µà¸¢à¸”à¹€à¸˜à¸­","à¸ªà¸§à¸±à¸ªà¸”à¸µ"], ans:0},
    {q:"å¦ˆå¦ˆ", opts:["à¸à¹ˆà¸­","à¹à¸¡à¹ˆ","à¸à¸µà¹ˆà¸ªà¸²à¸§"], ans:1},
    {q:"æˆ‘å–œæ¬¢å­¦ä¹ ã€‚", opts:["à¸‰à¸±à¸™à¸Šà¸­à¸šà¹€à¸£à¸µà¸¢à¸™","à¸‰à¸±à¸™à¹€à¸à¸¥à¸µà¸¢à¸”à¹€à¸£à¸µà¸¢à¸™","à¸‰à¸±à¸™à¸­à¸¢à¸²à¸à¸™à¸­à¸™"], ans:0},
    {q:"æˆ‘æœ‰ä¸€ä¸ªå“¥å“¥ã€‚", opts:["à¸‰à¸±à¸™à¸¡à¸µà¸à¸µà¹ˆà¸Šà¸²à¸¢à¸«à¸™à¸¶à¹ˆà¸‡à¸„à¸™","à¸‰à¸±à¸™à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸µà¹ˆà¸Šà¸²à¸¢","à¸‰à¸±à¸™à¸¡à¸µà¸™à¹‰à¸­à¸‡à¸Šà¸²à¸¢"], ans:0},
    {q:"è°¢è°¢ä½ ã€‚", opts:["à¸ªà¸§à¸±à¸ªà¸”à¸µ","à¸‚à¸­à¸šà¸„à¸¸à¸“","à¸¥à¸²à¸à¹ˆà¸­à¸™"], ans:1},
    {q:"ä»–æ˜¯è€å¸ˆã€‚", opts:["à¸„à¸£à¸¹","à¸™à¸±à¸à¹€à¸£à¸µà¸¢à¸™","à¸«à¸¡à¸­"], ans:0},
    {q:"ä½ å¥½å—ï¼Ÿ", opts:["à¸­à¸¢à¸¹à¹ˆà¹„à¸«à¸™","à¸ªà¸šà¸²à¸¢à¸”à¸µà¹„à¸«à¸¡","à¸—à¸³à¸­à¸°à¹„à¸£"], ans:1},
    {q:"æˆ‘å¾ˆå¥½ã€‚", opts:["à¸”à¸µà¸¡à¸²à¸","à¹€à¸«à¸™à¸·à¹ˆà¸­à¸¢","à¹€à¸¨à¸£à¹‰à¸²"], ans:0},
    {q:"è°¢è°¢è€å¸ˆã€‚", opts:["à¸‚à¸­à¸šà¸„à¸¸à¸“à¸„à¸£à¸¹","à¸¥à¸²à¸à¹ˆà¸­à¸™à¸„à¸£à¸¹","à¸„à¸£à¸¹à¸­à¸¢à¸¹à¹ˆà¹„à¸«à¸™"], ans:0},
    {q:"æˆ‘å«æ˜æ˜ã€‚", opts:["à¸Šà¸·à¹ˆà¸­à¸«à¸¡à¸´à¸‡à¸«à¸¡à¸´à¸‡","à¸Šà¸·à¹ˆà¸­à¸«à¸‡à¸«à¸‡","à¸Šà¸·à¹ˆà¸­à¸­à¸²à¹€à¸•à¹‹à¸­"], ans:0},
    {q:"çˆ¸çˆ¸åœ¨å®¶ã€‚", opts:["à¸à¹ˆà¸­à¸­à¸¢à¸¹à¹ˆà¸šà¹‰à¸²à¸™","à¹à¸¡à¹ˆà¸­à¸¢à¸¹à¹ˆà¸šà¹‰à¸²à¸™","à¸à¹ˆà¸­à¸­à¸¢à¸¹à¹ˆà¸£à¸£."], ans:0},
    {q:"å†è§ï¼", opts:["à¸¥à¸²à¸à¹ˆà¸­à¸™","à¸ªà¸§à¸±à¸ªà¸”à¸µ","à¸‚à¸­à¸šà¸„à¸¸à¸“"], ans:0},
    {q:"è°¢è°¢ï¼", opts:["à¸ªà¸§à¸±à¸ªà¸”à¸µ","à¸‚à¸­à¸šà¸„à¸¸à¸“","à¸¥à¸²à¸à¹ˆà¸­à¸™"], ans:1},
    {q:"ä»–æ˜¯è°ï¼Ÿ", opts:["à¹€à¸‚à¸²à¸­à¸¢à¸¹à¹ˆà¹„à¸«à¸™","à¹€à¸‚à¸²à¹€à¸›à¹‡à¸™à¹ƒà¸„à¸£","à¹€à¸‚à¸²à¸—à¸³à¸­à¸°à¹„à¸£"], a
