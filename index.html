<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üßß YCT Online Quiz (Reading + Listening)</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#E8F5FF; --card:#ffffff; --accent:#0288D1; --accent-2:#03A9F4;
    --good:#4CAF50; --bad:#E53935; --hint:#1976D2; --muted:#666;
  }
  body{
    font-family: "Noto Sans SC", "Arial", sans-serif;
    background: linear-gradient(180deg, #f4fbff 0%, var(--bg) 100%);
    margin:0; padding:20px;
    min-height:100vh;
  }
  .container{ max-width:980px; margin:0 auto; background:var(--card); padding:22px; border-radius:14px;
    box-shadow:0 6px 22px rgba(3,64,120,0.08);
  }
  h1{ text-align:center; color:var(--accent); margin:0 0 12px 0; }
  p.lead{ text-align:center; color:var(--muted); margin-top:6px; }
  .flex{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin:14px 0; }
  button{ background:var(--accent-2); color:#fff; border:none; padding:10px 14px; border-radius:10px; cursor:pointer;
    font-weight:600; box-shadow:0 4px 10px rgba(3,169,244,0.12);
  }
  button.ghost{ background:#fff; color:var(--accent-2); border:1px solid var(--accent-2); }
  .hidden{ display:none !important; }
  .card{ background:linear-gradient(180deg,#fff,#fbfeff); border-radius:12px; padding:14px; box-shadow:0 4px 14px rgba(2,136,209,0.04); }
  .timer{ text-align:center; font-weight:700; color:var(--accent); font-size:1.1rem; margin-bottom:12px; }
  .question{ font-size:1.15rem; padding:10px 12px; border-radius:10px; background:rgba(2,136,209,0.05); margin-bottom:10px; }
  .options button{ display:block; width:100%; margin:8px 0; padding:10px; border-radius:8px; text-align:left; background:#fff; border:1px solid #e6f4ff; color:#013e5a; }
  .options button.correct{ background:var(--good); color:#fff; border-color:transparent; }
  .options button.wrong{ background:var(--bad); color:#fff; border-color:transparent; }
  .options button.answer{ background:#E3F2FD; color:var(--hint); border-color:transparent; }
  .meta{ display:flex; gap:10px; justify-content:space-between; align-items:center; margin-bottom:10px; flex-wrap:wrap; }
  input[type="text"]{ padding:8px 10px; border-radius:8px; border:1px solid #ddd; width:calc(100% - 16px); }
  table{ width:100%; border-collapse:collapse; margin-top:12px; }
  th,td{ padding:8px; border:1px solid #e9f4ff; text-align:center; }
  th{ background:linear-gradient(90deg,var(--accent-2),var(--accent)); color:#fff; }
  .small{ font-size:0.9rem; color:var(--muted); }
  .center{ text-align:center; }
  .badge{ display:inline-block; padding:6px 8px; border-radius:8px; background:#fff; border:1px solid #e6f4ff; color:var(--accent); font-weight:600; }
  .result-good{ color:var(--good); font-weight:700; }
  .result-bad{ color:var(--bad); font-weight:700; }
  .controls{ display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
  footer{ margin-top:14px; text-align:center; color:var(--muted); font-size:0.9rem; }
  .play-btn{ background:#fff; color:var(--accent-2); border:1px solid rgba(3,169,244,0.25); padding:8px 10px; border-radius:8px; }
  @media (min-width:700px){
    .options button{ width:49%; display:inline-block; }
  }
</style>
</head>
<body>

<div class="container">
  <h1>üßß YCT Online Quiz</h1>
  <p class="lead small">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∏‡∏î => ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏•‡πà‡∏ô‡∏û‡∏≤‡∏£‡πå‡∏ó ‡∏ü‡∏±‡∏á(Âê¨Âäõ) ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢ ‡∏≠‡πà‡∏≤‡∏ô(ÈòÖËØª)</p>

  <!-- Start Screen -->
  <div id="startScreen" class="card">
    <div class="flex">
      <button onclick="beginSet('YCT1')">‡πÄ‡∏£‡∏¥‡πà‡∏° YCT1 (Âê¨Âäõ20 + ÈòÖËØª15)</button>
      <button onclick="beginSet('YCT2')">‡πÄ‡∏£‡∏¥‡πà‡∏° YCT2 (Âê¨Âäõ20 + ÈòÖËØª20)</button>
      <button class="ghost" onclick="showLeaderboard()">üèÜ Leaderboard</button>
      <button class="ghost" onclick="enterTeacherMode()">üë©‚Äçüè´ ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏π</button>
    </div>
    <div class="flex center">
      <div class="badge">‡πÄ‡∏ß‡∏•‡∏≤ / ‡∏Ç‡πâ‡∏≠ = 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
      <div class="badge">‡∏ú‡πà‡∏≤‡∏ô ‚â• 120 / 200</div>
      <div class="badge">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô LocalStorage</div>
    </div>
  </div>

  <!-- Quiz -->
  <div id="quizScreen" class="card hidden">
    <div class="meta">
      <div class="timer" id="timer">‡πÄ‡∏ß‡∏•‡∏≤: 60</div>
      <div>
        <button class="play-btn" onclick="playCurrentTTS()">üîä ‡∏ü‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <span id="partLabel" class="small"></span>
      </div>
    </div>

    <div id="questionBox"></div>
    <div id="controlsRow" class="controls"></div>
  </div>

  <!-- Result -->
  <div id="resultScreen" class="card hidden">
    <h2 class="center">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h2>
    <p id="scoreSummary" class="center"></p>
    <div id="passFail" class="center small"></div>

    <h3>‡πÄ‡∏â‡∏•‡∏¢</h3>
    <div id="answerList"></div>

    <label>‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:</label>
    <input id="studentName" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)">

    <div class="flex" style="margin-top:10px;">
      <button onclick="saveResult()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      <button class="ghost" onclick="backToHome()">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
      <button class="ghost" onclick="showLeaderboard()">üèÜ Leaderboard</button>
    </div>
  </div>

  <!-- Leaderboard -->
  <div id="leaderboardScreen" class="card hidden">
    <h2 class="center">üèÜ Leaderboard</h2>
    <table id="leaderboardTable"><thead>
      <tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏¥‡∏ö</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏£‡∏¥‡∏á</th><th>‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡∏•‡∏ö</th></tr>
    </thead><tbody></tbody></table>

    <div class="flex" style="margin-top:10px;">
      <button class="ghost" onclick="clearLocalScores()">üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
      <button class="ghost" onclick="backToHome()">üè† ‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <!-- Teacher -->
  <div id="teacherScreen" class="card hidden">
    <h2 class="center">üë©‚Äçüè´ ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏π</h2>
    <div class="small center">‡∏£‡∏´‡∏±‡∏™: <b>2222</b></div>
    <table id="teacherTable"><thead>
      <tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏¥‡∏ö</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏£‡∏¥‡∏á</th><th>‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡∏•‡∏ö</th></tr>
    </thead><tbody></tbody></table>

    <div class="flex" style="margin-top:10px;">
      <button onclick="addRecord()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      <button class="ghost" onclick="backToHome()">üè† ‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <footer>YCT Quiz ‚Äî LocalStorage Version</footer>
</div>

<script>
/* ===== ‡∏ä‡∏∏‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ===== */
/* ‡∏ú‡∏°‡πÄ‡∏Å‡πá‡∏ö q ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏à‡∏µ‡∏ô (‡∏°‡∏µ‡∏û‡∏¥‡∏ô‡∏≠‡∏¥‡∏ô‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå/‡πÇ‡∏ä‡∏ß‡πå‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ TTS ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡∏à‡∏µ‡∏ô */
const questions = {
  YCT1_listen: [
    {q:"‰ªñÊòØËÄÅÂ∏à„ÄÇ", opts:["‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏°‡∏≠"], ans:0},
    {q:"Ë∞¢Ë∞¢ÔºÅ", opts:["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô"], ans:1},
    {q:"ÂÜçËßÅÔºÅ", opts:["‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì"], ans:0},
    {q:"Â¶àÂ¶à", opts:["‡∏û‡πà‡∏≠","‡πÅ‡∏°‡πà","‡∏û‡∏µ‡πà‡∏™‡∏≤‡∏ß"], ans:1},
    {q:"ÊàëÁà±‰Ω†", opts:["‡∏â‡∏±‡∏ô‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠","‡∏â‡∏±‡∏ô‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡πÄ‡∏ò‡∏≠","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ"], ans:0},
    {q:"‰ªñÊòØË∞ÅÔºü", opts:["‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏Ñ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"], ans:1},
    {q:"ÊàëÂñúÊ¨¢ËãπÊûú„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•","‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡∏Å‡∏•‡πâ‡∏ß‡∏¢","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏™‡πâ‡∏°"], ans:0},
    {q:"Ë∞¢Ë∞¢ËÄÅÂ∏à„ÄÇ", opts:["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏π","‡∏Ñ‡∏£‡∏π‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô"], ans:0},
    {q:"ÊàëÂè´ÊòéÊòé„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏¥‡∏á‡∏´‡∏°‡∏¥‡∏á","‡∏â‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏á‡∏´‡∏á","‡∏â‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡πÄ‡∏ï‡πã‡∏≠"], ans:0},
    {q:"‰Ω†Â•ΩÂêóÔºü", opts:["‡πÄ‡∏ò‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡πÑ‡∏´‡∏°","‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"], ans:1},
    {q:"ÊàëÂæàÂ•Ω„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏î‡∏µ‡∏°‡∏≤‡∏Å","‡∏â‡∏±‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢","‡∏â‡∏±‡∏ô‡πÄ‡∏®‡∏£‡πâ‡∏≤"], ans:0},
    {q:"Áà∏Áà∏Âú®ÂÆ∂„ÄÇ", opts:["‡∏û‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô","‡πÅ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô","‡∏û‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"], ans:0},
    {q:"ÊàëÊúâ‰∏Ä‰∏™Âì•Âì•„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ñ‡∏ô","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢","‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏ô‡πâ‡∏≠‡∏á‡∏ä‡∏≤‡∏¢"], ans:0},
    {q:"ÊàëÂñúÊ¨¢Â≠¶‰π†„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏â‡∏±‡∏ô‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡∏ô‡∏≠‡∏ô"], ans:0},
    {q:"Ë∞¢Ë∞¢‰Ω†„ÄÇ", opts:["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô"], ans:1},
    {q:"‰ªäÂ§©Â§©Ê∞îÂæàÂ•Ω„ÄÇ", opts:["‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ","‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô","‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ù‡∏ô‡∏ï‡∏Å"], ans:0},
    {q:"ÊàëÂú®Â≠¶Ê†°„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô","‡∏â‡∏±‡∏ô‡πÑ‡∏õ‡∏ï‡∏•‡∏≤‡∏î"], ans:0},
    {q:"‰Ω†‰ºöÊ∏∏Ê≥≥ÂêóÔºü", opts:["‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°","‡πÄ‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°","‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°"], ans:0},
    {q:"ËØ∑Âùê„ÄÇ", opts:["‡πÄ‡∏ä‡∏¥‡∏ç‡∏ô‡∏±‡πà‡∏á","‡πÄ‡∏ä‡∏¥‡∏ç‡∏Å‡∏¥‡∏ô","‡πÄ‡∏ä‡∏¥‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤"], ans:0},
    {q:"‰∏çË¶ÅËØ¥ËØù„ÄÇ", opts:["‡∏≠‡∏¢‡πà‡∏≤‡∏û‡∏π‡∏î","‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏¥‡∏ô","‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô"], ans:0}
  ],
  YCT1_read: [
    {q:"ÊàëÁà±‰Ω†", opts:["‡∏â‡∏±‡∏ô‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠","‡∏â‡∏±‡∏ô‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡πÄ‡∏ò‡∏≠","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ"], ans:0},
    {q:"Â¶àÂ¶à", opts:["‡∏û‡πà‡∏≠","‡πÅ‡∏°‡πà","‡∏û‡∏µ‡πà‡∏™‡∏≤‡∏ß"], ans:1},
    {q:"ÊàëÂñúÊ¨¢Â≠¶‰π†„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏â‡∏±‡∏ô‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡∏ô‡∏≠‡∏ô"], ans:0},
    {q:"ÊàëÊúâ‰∏Ä‰∏™Âì•Âì•„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ñ‡∏ô","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢","‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏ô‡πâ‡∏≠‡∏á‡∏ä‡∏≤‡∏¢"], ans:0},
    {q:"Ë∞¢Ë∞¢‰Ω†„ÄÇ", opts:["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô"], ans:1},
    {q:"‰ªñÊòØËÄÅÂ∏à„ÄÇ", opts:["‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏°‡∏≠"], ans:0},
    {q:"‰Ω†Â•ΩÂêóÔºü", opts:["‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô","‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡πÑ‡∏´‡∏°","‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"], ans:1},
    {q:"ÊàëÂæàÂ•Ω„ÄÇ", opts:["‡∏î‡∏µ‡∏°‡∏≤‡∏Å","‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢","‡πÄ‡∏®‡∏£‡πâ‡∏≤"], ans:0},
    {q:"Ë∞¢Ë∞¢ËÄÅÂ∏à„ÄÇ", opts:["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏π","‡∏Ñ‡∏£‡∏π‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô"], ans:0},
    {q:"ÊàëÂè´ÊòéÊòé„ÄÇ", opts:["‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏¥‡∏á‡∏´‡∏°‡∏¥‡∏á","‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏á‡∏´‡∏á","‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡πÄ‡∏ï‡πã‡∏≠"], ans:0},
    {q:"Áà∏Áà∏Âú®ÂÆ∂„ÄÇ", opts:["‡∏û‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô","‡πÅ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô","‡∏û‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏£."], ans:0},
    {q:"ÂÜçËßÅÔºÅ", opts:["‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì"], ans:0},
    {q:"Ë∞¢Ë∞¢ÔºÅ", opts:["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô"], ans:1},
    {q:"‰ªñÊòØË∞ÅÔºü", opts:["‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏Ñ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"], ans:1},
    {q:"ÊàëÂñúÊ¨¢ËãπÊûú„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•","‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡∏Å‡∏•‡πâ‡∏ß‡∏¢","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏™‡πâ‡∏°"], ans:0}
  ],
  YCT2_listen: [
    {q:"‰Ω†Âè´‰ªÄ‰πàÂêçÂ≠óÔºü", opts:["‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£"], ans:0},
    {q:"ÊàëÂñúÊ¨¢ËãπÊûú„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•","‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•","‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•"], ans:1},
    {q:"‰ªñÂá†Â≤ÅÔºü", opts:["‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô","‡πÄ‡∏Ç‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£"], ans:0},
    {q:"‰ªäÂ§©ÊòüÊúüÂá†Ôºü", opts:["‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£","‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£","‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£"], ans:0},
    {q:"ÊàëÂú®Â≠¶Ê†°„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô","‡∏â‡∏±‡∏ô‡πÑ‡∏õ‡∏ï‡∏•‡∏≤‡∏î"], ans:0},
    {q:"Áé∞Âú®Âá†ÁÇπÔºü", opts:["‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á","‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£","‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á"], ans:0},
    {q:"ÊàëÊúâ‰∏§‰∏™ÂßêÂßê„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏™‡∏≤‡∏ß‡∏™‡∏≠‡∏á‡∏Ñ‡∏ô","‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏™‡∏≠‡∏á‡∏Ñ‡∏ô","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏µ‡πà"], ans:0},
    {q:"‰Ω†‰ºöÊ∏∏Ê≥≥ÂêóÔºü", opts:["‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°","‡πÄ‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°","‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°"], ans:0},
    {q:"‰ªñÂú®ÂÅö‰ªÄ‰πàÔºü", opts:["‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏Ñ‡∏£"], ans:0},
    {q:"ÊòéÂ§©ËßÅ„ÄÇ", opts:["‡∏û‡∏ö‡∏Å‡∏±‡∏ô‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤"], ans:0},
    {q:"Â•πÂæàÊºÇ‰∫Æ„ÄÇ", opts:["‡πÄ‡∏ò‡∏≠‡∏™‡∏ß‡∏¢‡∏°‡∏≤‡∏Å","‡πÄ‡∏ò‡∏≠‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å","‡πÄ‡∏ò‡∏≠‡∏≠‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å"], ans:0},
    {q:"‰Ω†ÂñúÊ¨¢‰ªÄ‰πàÈ¢úËâ≤Ôºü", opts:["‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö‡∏™‡∏µ‡∏≠‡∏∞‡πÑ‡∏£","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£"], ans:0},
    {q:"‰ªñÂú®ÂêÉÈ•≠„ÄÇ", opts:["‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß","‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≠‡∏ô","‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πà‡∏á"], ans:0},
    {q:"‰Ω†Âú®Âì™ÂÑøÔºü", opts:["‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£","‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"], ans:0},
    {q:"ÊàëÊúâ‰∏ÄÂè™Áãó„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß","‡∏â‡∏±‡∏ô‡∏°‡∏µ‡πÅ‡∏°‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏±‡∏ï‡∏ß‡πå"], ans:0},
    {q:"‰Ω†ÂÆ∂ÊúâÂá†Âè£‰∫∫Ôºü", opts:["‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏Ñ‡∏ô","‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏´‡∏°"], ans:0},
    {q:"‰ªñÊòØÊàëÁöÑÊúãÂèã„ÄÇ", opts:["‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏â‡∏±‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô"], ans:0},
    {q:"ËØ∑Âùê„ÄÇ", opts:["‡πÄ‡∏ä‡∏¥‡∏ç‡∏ô‡∏±‡πà‡∏á","‡πÄ‡∏ä‡∏¥‡∏ç‡∏Å‡∏¥‡∏ô","‡πÄ‡∏ä‡∏¥‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤"], ans:0},
    {q:"‰∏çË¶ÅËØ¥ËØù„ÄÇ", opts:["‡∏≠‡∏¢‡πà‡∏≤‡∏û‡∏π‡∏î","‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏¥‡∏ô","‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô"], ans:0},
    {q:"Ë∞¢Ë∞¢ËÄÅÂ∏à„ÄÇ", opts:["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏π","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏π"], ans:0}
  ],
  YCT2_read: [
    {q:"‰Ω†Âè´‰ªÄ‰πàÂêçÂ≠óÔºü", opts:["‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£"], ans:0},
    {q:"ÊàëÂñúÊ¨¢ËãπÊûú„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•","‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•","‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•"], ans:1},
    {q:"‰ªñÂá†Â≤ÅÔºü", opts:["‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô","‡πÄ‡∏Ç‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£"], ans:0},
    {q:"‰ªäÂ§©ÊòüÊúüÂá†Ôºü", opts:["‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£","‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£","‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£"], ans:0},
    {q:"ÊàëÂú®Â≠¶Ê†°„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏â‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô","‡∏â‡∏±‡∏ô‡πÑ‡∏õ‡∏ï‡∏•‡∏≤‡∏î"], ans:0},
    {q:"Áé∞Âú®Âá†ÁÇπÔºü", opts:["‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á","‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£","‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á"], ans:0},
    {q:"ÊàëÊúâ‰∏§‰∏™ÂßêÂßê„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏™‡∏≤‡∏ß‡∏™‡∏≠‡∏á‡∏Ñ‡∏ô","‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏™‡∏≠‡∏á‡∏Ñ‡∏ô","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏µ‡πà"], ans:0},
    {q:"‰Ω†‰ºöÊ∏∏Ê≥≥ÂêóÔºü", opts:["‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°","‡πÄ‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°","‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°"], ans:0},
    {q:"‰ªñÂú®ÂÅö‰ªÄ‰πàÔºü", opts:["‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏Ñ‡∏£"], ans:0},
    {q:"ÊòéÂ§©ËßÅ„ÄÇ", opts:["‡∏û‡∏ö‡∏Å‡∏±‡∏ô‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤"], ans:0},
    {q:"Â•πÂæàÊºÇ‰∫Æ„ÄÇ", opts:["‡πÄ‡∏ò‡∏≠‡∏™‡∏ß‡∏¢‡∏°‡∏≤‡∏Å","‡πÄ‡∏ò‡∏≠‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å","‡πÄ‡∏ò‡∏≠‡∏≠‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å"], ans:0},
    {q:"‰Ω†ÂñúÊ¨¢‰ªÄ‰πàÈ¢úËâ≤Ôºü", opts:["‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö‡∏™‡∏µ‡∏≠‡∏∞‡πÑ‡∏£","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£"], ans:0},
    {q:"‰ªñÂú®ÂêÉÈ•≠„ÄÇ", opts:["‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß","‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≠‡∏ô","‡πÄ‡∏Ç‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πà‡∏á"], ans:0},
    {q:"‰Ω†Âú®Âì™ÂÑøÔºü", opts:["‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£","‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£"], ans:0},
    {q:"ÊàëÊúâ‰∏ÄÂè™Áãó„ÄÇ", opts:["‡∏â‡∏±‡∏ô‡∏°‡∏µ‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß","‡∏â‡∏±‡∏ô‡∏°‡∏µ‡πÅ‡∏°‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß","‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏±‡∏ï‡∏ß‡πå"], ans:0},
    {q:"‰Ω†ÂÆ∂ÊúâÂá†Âè£‰∫∫Ôºü", opts:["‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏Ñ‡∏ô","‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏´‡∏°"], ans:0},
    {q:"‰ªñÊòØÊàëÁöÑÊúãÂèã„ÄÇ", opts:["‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏â‡∏±‡∏ô","‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô"], ans:0},
    {q:"ËØ∑Âùê„ÄÇ", opts:["‡πÄ‡∏ä‡∏¥‡∏ç‡∏ô‡∏±‡πà‡∏á","‡πÄ‡∏ä‡∏¥‡∏ç‡∏Å‡∏¥‡∏ô","‡πÄ‡∏ä‡∏¥‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤"], ans:0},
    {q:"‰∏çË¶ÅËØ¥ËØù„ÄÇ", opts:["‡∏≠‡∏¢‡πà‡∏≤‡∏û‡∏π‡∏î","‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏¥‡∏ô","‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô"], ans:0},
    {q:"Ë∞¢Ë∞¢ËÄÅÂ∏à„ÄÇ", opts:["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏π","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏π"], ans:0}
  ]
};


/* ====== ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏£‡∏∞‡∏ö‡∏ö ====== */
let setName = "";          // "YCT1" or "YCT2"
let modePhase = "";        // "listen" or "read"
let orderList = [];        // ‡∏Ñ‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á object ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥ (‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏ü‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏ó‡∏µ‡∏•‡∏∞ phase)
let currentIndex = 0;      // index ‡πÉ‡∏ô orderList
let timerId = null;
let timeLeft = 60;
let totalQuestions = 0;
let rawCorrect = 0;
let answersRecord = [];    // {q, correct, chosen, phase, idx}

/* ====== Flow control ====== */
function beginSet(which){
  setName = which;
  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏™‡∏ï‡πå‡πÅ‡∏ö‡∏ö: ‡∏ü‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡πà‡∏≤‡∏ô
  if(which === "YCT1"){
    orderList = [
      ...questions.YCT1_listen.map((x,i)=>({...x, phase:'listen', idx:i})),
      ...questions.YCT1_read.map((x,i)=>({...x, phase:'read', idx:i}))
    ];
  } else {
    orderList = [
      ...questions.YCT2_listen.map((x,i)=>({...x, phase:'listen', idx:i})),
      ...questions.YCT2_read.map((x,i)=>({...x, phase:'read', idx:i}))
    ];
  }
  totalQuestions = orderList.length;
  currentIndex = 0;
  rawCorrect = 0;
  answersRecord = [];
  showQuizScreen();
  showQuestion();
}

/* ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö */
function showQuizScreen(){
  document.getElementById('startScreen').classList.add('hidden');
  document.getElementById('leaderboardScreen').classList.add('hidden');
  document.getElementById('teacherScreen').classList.add('hidden');
  document.getElementById('resultScreen').classList.add('hidden');
  document.getElementById('quizScreen').classList.remove('hidden');
}

/* ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô */
function showQuestion(){
  clearInterval(timerId);
  timeLeft = 60;
  updateTimerUI();

  // ‡πÅ‡∏™‡∏î‡∏á part label (‡∏ü‡∏±‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡πà‡∏≤‡∏ô)
  const current = orderList[currentIndex];
  const partLabel = document.getElementById('partLabel');
  partLabel.innerText = `${setName} ‚Äî ${current.phase === 'listen' ? 'Âê¨Âäõ (‡∏ü‡∏±‡∏á)' : 'ÈòÖËØª (‡∏≠‡πà‡∏≤‡∏ô)'} ‡∏Ç‡πâ‡∏≠ ${currentIndex+1}/${totalQuestions}`;

  // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏•‡πà‡∏ô TTS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÇ‡∏ä‡∏ß‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ)
  const qb = document.getElementById('questionBox');
  // ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏ä‡∏ß‡πå‡∏û‡∏¥‡∏ô‡∏≠‡∏¥‡∏ô/‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏•‡∏î‡πâ‡∏ß‡∏¢ ‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ template ‡πÉ‡∏´‡πâ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÇ‡∏ä‡∏ß‡πå‡∏à‡∏µ‡∏ô + ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ó‡∏¢)
  qb.innerHTML = `
    <div class="question"><b>‡∏Ç‡πâ‡∏≠ ${currentIndex+1}:</b> ${ current.phase === 'listen' ? '(‡∏ü‡∏±‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)' : current.q }</div>
    <div style="margin-bottom:8px;">
      <button class="play-btn" onclick="playCurrentTTS()">üîä ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
      <span class="small" style="margin-left:8px;">(‡∏Å‡∏î‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ü‡∏±‡∏á‡∏ã‡πâ‡∏≥)</span>
    </div>
    <div class="options">${ current.opts.map((o, idx) => `<button onclick="choose(${idx})">${o}</button>`).join('') }</div>
  `;

  // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô listening ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô TTS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
  if(current.phase === 'listen'){
    // ‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡πà‡∏ô
    setTimeout(()=>playCurrentTTS(), 250);
  }

  // start timer
  timerId = setInterval(()=>{
    timeLeft--;
    updateTimerUI();
    if(timeLeft <= 0){
      clearInterval(timerId);
      recordNoAnswerAndNext();
    }
  },1000);
}

/* ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï UI timer */
function updateTimerUI(){
  document.getElementById('timer').innerText = '‡πÄ‡∏ß‡∏•‡∏≤: ' + timeLeft;
}

/* ===== TTS ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß: ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏à‡∏µ‡∏ô (‡πÑ‡∏°‡πà‡∏≠‡πà‡∏≤‡∏ô pinyin) ===== */
function playCurrentTTS(){
  if(!window.speechSynthesis) return alert('‡πÄ‡∏ö‡∏£‡∏≤‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö SpeechSynthesis (TTS)');
  const current = orderList[currentIndex];
  // current.q ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏à‡∏µ‡∏ô + pinyin -> ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏î‡∏∂‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏à‡∏µ‡∏ô‡πÅ‡∏•‡∏∞ punctuation ‡∏à‡∏µ‡∏ô
  // regex ‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏ö‡∏ä‡πà‡∏ß‡∏á Unicode ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏à‡∏µ‡∏ô (CJK Unified Ideographs) ‡πÅ‡∏•‡∏∞ punctuation ‡∏à‡∏µ‡∏ô
  const matches = String(current.q).match(/[\u4e00-\u9fffÔºå„ÄÇÔºÅÔºüÔºõÔºö„ÄÅ‚Äî‚Ä¶]+/g);
  const textForTTS = matches ? matches.join('') : current.q;

  const utter = new SpeechSynthesisUtterance(textForTTS);
  // ‡∏ï‡∏±‡πâ‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏à‡∏µ‡∏ô (‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ voice ‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ñ‡∏π‡∏Å)
  utter.lang = 'zh-CN';

  // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏µ‡∏ô (‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏´‡∏≤ voice ‡∏ó‡∏µ‡πà match ‡∏†‡∏≤‡∏©‡∏≤ zh ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏ç‡∏¥‡∏á‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
  const voices = speechSynthesis.getVoices();
  let chosen = voices.find(v => (v.lang && v.lang.startsWith('zh')) && /female|Female|Â•≥|Mei|Yun|Google.*China/.test(v.name));
  if(!chosen) chosen = voices.find(v => v.lang && v.lang.startsWith('zh'));
  if(chosen) utter.voice = chosen;

  utter.rate = 0.95;
  utter.pitch = 1.0;

  speechSynthesis.cancel();
  speechSynthesis.speak(utter);
}

/* ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö */
function choose(choiceIdx){
  clearInterval(timerId);
  const current = orderList[currentIndex];
  const btns = document.querySelectorAll('.options button');
  // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏µ (‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î/‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏á)
  btns.forEach((b, i)=>{
    b.disabled = true;
    if(i === current.ans) { b.classList.add('correct'); }
    if(i === choiceIdx && i !== current.ans) { b.classList.add('wrong'); }
  });
  // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•
  const chosenText = current.opts[choiceIdx] ?? "‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö";
  answersRecord.push({
    q: current.q,
    correct: current.opts[current.ans],
    chosen: chosenText,
    phase: current.phase
  });
  if(choiceIdx === current.ans) rawCorrect++;

  // ‡∏£‡∏≠ 800ms ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
  setTimeout(()=>{ currentIndex++; if(currentIndex < totalQuestions) showQuestion(); else finishAll(); }, 800);
}

/* ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ (‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ö) */
function recordNoAnswerAndNext(){
  const current = orderList[currentIndex];
  const btns = document.querySelectorAll('.options button');
  btns.forEach((b,i)=>{ b.disabled=true; if(i===current.ans) b.classList.add('correct'); });
  answersRecord.push({
    q: current.q,
    correct: current.opts[current.ans],
    chosen: "‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö",
    phase: current.phase
  });
  // ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
  setTimeout(()=>{ currentIndex++; if(currentIndex < totalQuestions) showQuestion(); else finishAll(); }, 800);
}

/* ‡∏à‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏û‡∏≤‡∏£‡πå‡∏ó */
function finishAll(){
  clearInterval(timerId);
  document.getElementById('quizScreen').classList.add('hidden');
  // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
  const raw = rawCorrect;
  const total = totalQuestions;
  const real = Math.round((raw / total) * 200);
  const pass = real >= 120;
  // ‡πÅ‡∏™‡∏î‡∏á UI
  document.getElementById('resultScreen').classList.remove('hidden');
  document.getElementById('scoreSummary').innerHTML = `<b>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏¥‡∏ö:</b> ${raw}/${total} &nbsp;&nbsp; <b>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏£‡∏¥‡∏á:</b> ${real}/200`;
  document.getElementById('passFail').innerHTML = pass ? `<span class="result-good">‡∏ú‡πà‡∏≤‡∏ô ‚úÖ</span>` : `<span class="result-bad">‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‚ùå</span>`;

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏â‡∏•‡∏¢
  const answerDiv = document.getElementById('answerList');
  answerDiv.innerHTML = answersRecord.map((a,i)=>`
    <div style="padding:8px;border-radius:8px;margin-bottom:6px;background:#fbfeff;border:1px solid #eaf6ff;">
      <div><b>‡∏Ç‡πâ‡∏≠ ${i+1} (${a.phase})</b></div>
      <div class="small">${a.q}</div>
      <div style="margin-top:6px;">‚úÖ ‡∏ñ‡∏π‡∏Å: <b style="color:${'#1976D2'}">${a.correct}</b> &nbsp;&nbsp; üìù ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö: <b>${a.chosen}</b></div>
    </div>
  `).join('');
  // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÑ‡∏ß‡πâ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÉ‡∏ô DOM (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å)
  document.getElementById('resultScreen').dataset.raw = raw;
  document.getElementById('resultScreen').dataset.real = real;
  document.getElementById('resultScreen').dataset.total = total;
}

/* ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà localStorage */
function saveResult(){
  const name = document.getElementById('studentName').value.trim();
  if(!name) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å');
  const raw = parseInt(document.getElementById('resultScreen').dataset.raw,10) || 0;
  const real = parseInt(document.getElementById('resultScreen').dataset.real,10) || 0;
  const total = parseInt(document.getElementById('resultScreen').dataset.total,10) || 0;
  const now = new Date();
  const timeStr = now.toLocaleString('th-TH');
  const rec = { name, set: setName, raw:`${raw}/${total}`, real:`${real}/200`, score: real, time: timeStr };
  const arr = JSON.parse(localStorage.getItem('yctScores') || '[]');
  arr.push(rec);
  // sort by score desc
  arr.sort((a,b)=> (b.score||0) - (a.score||0));
  localStorage.setItem('yctScores', JSON.stringify(arr));
  alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!');
  backToHome();
}

/* ‡πÅ‡∏™‡∏î‡∏á Leaderboard */
function showLeaderboard(){
  document.getElementById('startScreen').classList.add('hidden');
  document.getElementById('quizScreen').classList.add('hidden');
  document.getElementById('resultScreen').classList.add('hidden');
  document.getElementById('teacherScreen').classList.add('hidden');
  document.getElementById('leaderboardScreen').classList.remove('hidden');
  const arr = JSON.parse(localStorage.getItem('yctScores') || '[]');
  const tbody = document.querySelector('#leaderboardTable tbody');
  if(arr.length === 0){ tbody.innerHTML = '<tr><td colspan="5">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</td></tr>'; return; }
  tbody.innerHTML = arr.map((r,i)=>`<tr>
    <td>${escapeHtml(r.name)}</td>
    <td>${r.raw}</td>
    <td>${r.real}</td>
    <td>${r.time}</td>
    <td><button onclick="deleteScore(${i})" class="ghost">‡∏•‡∏ö</button></td>
  </tr>`).join('');
}

/* ‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å leaderboard */
function deleteScore(i){
  if(!confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏£‡∏Ñ‡∏Ñ‡∏≠‡∏£‡πå‡∏î‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) return;
  const arr = JSON.parse(localStorage.getItem('yctScores') || '[]');
  arr.splice(i,1);
  localStorage.setItem('yctScores', JSON.stringify(arr));
  showLeaderboard();
}

/* ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (leaderboard) */
function clearLocalScores(){
  if(!confirm('‡∏•‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å localStorage?')) return;
  localStorage.removeItem('yctScores');
  showLeaderboard();
}

/* ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏π (‡∏£‡∏´‡∏±‡∏™ 2222) */
function enterTeacherMode(){
  const pw = prompt('‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏£‡∏π:');
  if(pw !== '2222') return alert('‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
  document.getElementById('startScreen').classList.add('hidden');
  document.getElementById('leaderboardScreen').classList.add('hidden');
  document.getElementById('resultScreen').classList.add('hidden');
  document.getElementById('teacherScreen').classList.remove('hidden');
  renderTeacherTable();
}

function renderTeacherTable(){
  const arr = JSON.parse(localStorage.getItem('yctScores') || '[]');
  const tbody = document.querySelector('#teacherTable tbody');
  if(arr.length === 0){ tbody.innerHTML = '<tr><td colspan="5">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏£‡∏Ñ‡∏Ñ‡∏≠‡∏£‡πå‡∏î</td></tr>'; return; }
  tbody.innerHTML = arr.map((r,i)=>`<tr>
    <td contenteditable onblur="updateTeacher(${i},'name',this.innerText)">${escapeHtml(r.name)}</td>
    <td contenteditable onblur="updateTeacher(${i},'raw',this.innerText)">${r.raw}</td>
    <td contenteditable onblur="updateTeacher(${i},'real',this.innerText)">${r.real}</td>
    <td contenteditable onblur="updateTeacher(${i},'time',this.innerText)">${r.time}</td>
    <td>
      <button onclick="teacherDelete(${i})" class="ghost">‡∏•‡∏ö</button>
    </td>
  </tr>`).join('');
}

function updateTeacher(i, field, val){
  const arr = JSON.parse(localStorage.getItem('yctScores') || '[]');
  if(!arr[i]) return;
  arr[i][field] = val;
  if(field === 'real'){
    const m = String(val).match(/(\d+)/);
    arr[i].score = m ? parseInt(m[1],10) : (arr[i].score||0);
  }
  localStorage.setItem('yctScores', JSON.stringify(arr));
  renderTeacherTable();
}
function teacherDelete(i){
  if(!confirm('‡∏•‡∏ö‡πÄ‡∏£‡∏Ñ‡∏Ñ‡∏≠‡∏£‡πå‡∏î‡∏ô‡∏µ‡πâ?')) return;
  const arr = JSON.parse(localStorage.getItem('yctScores') || '[]');
  arr.splice(i,1);
  localStorage.setItem('yctScores', JSON.stringify(arr));
  renderTeacherTable();
}
function addRecord(){
  const arr = JSON.parse(localStorage.getItem('yctScores') || '[]');
  const now = new Date();
  arr.push({ name: '‡πÉ‡∏´‡∏°‡πà', raw: '0/0', real: '0/200', score: 0, time: now.toLocaleString('th-TH')});
  localStorage.setItem('yctScores', JSON.stringify(arr));
  renderTeacherTable();
}

/* ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å */
function backToHome(){
  if(window.speechSynthesis) window.speechSynthesis.cancel();
  document.getElementById('startScreen').classList.remove('hidden');
  document.getElementById('quizScreen').classList.add('hidden');
  document.getElementById('resultScreen').classList.add('hidden');
  document.getElementById('leaderboardScreen').classList.add('hidden');
  document.getElementById('teacherScreen').classList.add('hidden');
}

/* Utility */
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

/* ‡∏´‡∏≤‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏µ voices ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏° ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡∏ã‡πâ‡∏≥‡πÄ‡∏°‡∏∑‡πà‡∏≠ voiceschanged */
if(window.speechSynthesis){
  speechSynthesis.onvoiceschanged = () => { /* ready */ };
}
</script>
</body>
</html>
