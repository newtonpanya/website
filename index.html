<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YCT Online Quiz</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Noto Sans SC', Arial, sans-serif;
    padding: 20px;
    min-height: 100vh;
    background: linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)),
                url('https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_China.svg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }
  h1 { text-align:center; color:#D32F2F; text-shadow:1px 1px 2px #fff; }
  .timer { text-align:center; font-size:1.3rem; color:#B71C1C; margin-bottom:15px; font-weight:bold; }
  .question { margin-bottom:20px; padding:20px; background:rgba(255,255,255,0.9); border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
  .options button { margin:5px 10px 5px 0; padding:10px 15px; border-radius:10px; border:none;
                    cursor:pointer; background-color:#FFCDD2; transition:0.3s; color:#B71C1C; }
  .options button:hover { background-color:#EF9A9A; }
  .correct { background-color:#81C784 !important; color:#fff !important; }
  .wrong { background-color:#E57373 !important; color:#fff !important; }
  .next-btn, .restart-btn, .answer-btn, .toYCT2-btn, .leaderboard-btn, .teacher-btn, .delete-btn, .add-btn {
    display:block; margin:15px auto; padding:10px 20px;
    border:none; border-radius:10px; background-color:#F44336;
    color:white; font-size:1rem; cursor:pointer;
  }
  .next-btn:hover, .restart-btn:hover, .answer-btn:hover,
  .toYCT2-btn:hover, .leaderboard-btn:hover, .teacher-btn:hover, .delete-btn:hover, .add-btn:hover { background-color:#D32F2F; }
  .answer-correct { color:#2E7D32; font-weight:bold; }
  .answer-wrong { color:#C62828; font-weight:bold; }
  h2 { text-align:center; color:#C62828; }
  .footer { text-align:center; margin-top:20px; font-size:0.9rem; color:#333;}
</style>
</head>
<body>
<h1>YCT Online Quiz üá®üá≥</h1>
<div class="timer" id="timer"></div>
<div id="quiz"></div>

<div class="footer">
  <div>Website: <a href="https://newtonpanya.studio" target="_blank">newtonpanya.studio</a></div>
  <div>Email: <a href="mailto:newton_panya@gmail.com">newton_panya@gmail.com</a></div>
</div>

<script>
// --------------------- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö ---------------------
const yct1 = [
  {text:"‰Ω†Â•ΩÂêóÔºü",pinyin:"n«ê h«éo ma?",options:["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏™‡∏ö‡∏≤‡∏¢‡∏î‡∏µ‡πÑ‡∏´‡∏°","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô"],answer:1},
  {text:"ÊàëÂæàÂ•Ω„ÄÇ",pinyin:"w«í hƒõn h«éo.",options:["‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏î‡∏µ","‡∏â‡∏±‡∏ô‡∏î‡∏µ‡∏°‡∏≤‡∏Å","‡∏â‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠"],answer:1},
  {text:"Ë∞¢Ë∞¢",pinyin:"xi√®xie",options:["‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©","‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô"],answer:1},
  {text:"ËÄÅÂ∏à",pinyin:"l«éoshƒ´",options:["‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏Ñ‡∏£‡∏π","‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"],answer:1},
  {text:"ËãπÊûú",pinyin:"p√≠nggu«í",options:["‡∏Å‡∏•‡πâ‡∏ß‡∏¢","‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•","‡πÅ‡∏ï‡∏á‡πÇ‡∏°"],answer:1},
  {text:"ÁÉ≠",pinyin:"r√®",options:["‡∏´‡∏ô‡∏≤‡∏ß","‡∏¢‡∏≤‡∏Å","‡∏£‡πâ‡∏≠‡∏ô"],answer:2},
  {text:"ÂÜ∑",pinyin:"lƒõng",options:["‡πÄ‡∏¢‡πá‡∏ô","‡∏£‡πâ‡∏≠‡∏ô","‡πÄ‡∏£‡πá‡∏ß"],answer:0},
  {text:"Ë∞¢Ë∞¢‰Ω†ÔºÅ",pinyin:"xi√®xie n«ê!",options:["‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì","‡∏¢‡∏¥‡∏ô‡∏î‡∏µ","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô"],answer:0},
  {text:"ÂÜçËßÅ",pinyin:"z√†iji√†n",options:["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô","‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©"],answer:1},
  {text:"ÊàëÂè´Â∞èÊòé„ÄÇ",pinyin:"w«í ji√†o Xi«éom√≠ng.",options:["‡∏â‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏°‡∏¥‡∏á","‡∏â‡∏±‡∏ô‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏à‡∏µ‡∏ô","‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"],answer:0},
];

const yct2 = [
  {text:"‰ªñÊòØË∞ÅÔºü",pinyin:"tƒÅ sh√¨ sh√©i?",options:["‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏Ñ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£","‡πÄ‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏ô"],answer:0},
  {text:"ÊàëÂñúÊ¨¢Â≠¶‰π†‰∏≠Êñá„ÄÇ",pinyin:"w«í x«êhuƒÅn xu√©x√≠ zh≈çngw√©n.",options:["‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡∏à‡∏µ‡∏ô","‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏à‡∏µ‡∏ô","‡∏â‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©"],answer:1},
  {text:"Â•πÊòØÊàëÂßêÂßê„ÄÇ",pinyin:"tƒÅ sh√¨ w«í jiƒõjie.",options:["‡πÄ‡∏ò‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏µ‡πà‡∏™‡∏≤‡∏ß‡∏â‡∏±‡∏ô","‡πÄ‡∏ò‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏â‡∏±‡∏ô","‡πÄ‡∏ò‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏°‡πà‡∏â‡∏±‡∏ô"],answer:0},
  {text:"‰ªäÂ§©ÂæàÂÜ∑„ÄÇ",pinyin:"jƒ´ntiƒÅn hƒõn lƒõng.",options:["‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡πâ‡∏≠‡∏ô","‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏ô‡∏≤‡∏ß","‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏∏‡πà‡∏ô"],answer:1},
  {text:"‰Ω†‰ΩèÂú®Âì™ÂÑøÔºü",pinyin:"n«ê zh√π z√†i n«ér?",options:["‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£","‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÑ‡∏´‡∏ô"],answer:0},
];

// --------------------- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å ---------------------
let currentExam = 'yct1';
let currentIndex = 0;
let score = 0;
let timer;
let timeLeft = 0;
let isTeacher = false;

// --------------------- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ ---------------------
function startTimer() {
  clearInterval(timer);
  const total = (currentExam === 'yct1' ? yct1.length : yct2.length) * 90;
  timeLeft = total;
  const t = document.getElementById('timer');
  timer = setInterval(() => {
    const m = Math.floor(timeLeft / 60);
    const s = timeLeft % 60;
    t.textContent = `‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${m} ‡∏ô‡∏≤‡∏ó‡∏µ ${s} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
    if (timeLeft-- <= 0) {
      clearInterval(timer);
      showResult();
    }
  }, 1000);
}

// --------------------- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö ---------------------
function startQuiz(exam) {
  currentExam = exam;
  currentIndex = 0;
  score = 0;
  startTimer();
  showQuestion();
}

function showQuestion() {
  const quizDiv = document.getElementById('quiz');
  const data = currentExam === 'yct1' ? yct1 : yct2;
  if (currentIndex >= data.length) { showResult(); return; }
  const q = data[currentIndex];
  let html = `<div class='question'><h2>‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${currentIndex+1}/${data.length}</h2>
              <div>${q.text}</div><div>(${q.pinyin})</div><div class='options'>`;
  q.options.forEach((opt,i)=>{
    html += `<button onclick='selectAnswer(${i})'>${opt}</button>`;
  });
  html += "</div></div>";
  quizDiv.innerHTML = html;
}

function selectAnswer(choice) {
  const data = currentExam === 'yct1' ? yct1 : yct2;
  const correct = data[currentIndex].answer;
  const buttons = document.querySelectorAll('.options button');
  buttons.forEach((b,i)=>{
    if(i===correct) b.classList.add('correct');
    if(i===choice && choice!==correct) b.classList.add('wrong');
    b.disabled = true;
  });
  if(choice===correct) score++;
  setTimeout(()=>{ currentIndex++; showQuestion(); }, 1000);
}

// --------------------- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ---------------------
function showResult() {
  clearInterval(timer);
  const quizDiv = document.getElementById('quiz');
  const total = currentExam === 'yct1' ? yct1.length : yct2.length;
  const percent = Math.round((score/total)*100);
  const emoji = percent >= 80 ? 'üíØ' : (percent >= 50 ? 'üòä' : 'üò¢');
  let html = `<h2>‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ ${score}/${total} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ${emoji}</h2>`;
  if(currentExam==='yct1'){
    html += `<button class='toYCT2-btn' onclick=\"startQuiz('yct2')\">‡πÑ‡∏õ‡∏ó‡∏≥ YCT 2 ‚û°Ô∏è</button>`;
  }
  html += `<button class='leaderboard-btn' onclick='openLeaderboard()'>Leaderboard</button>
           <button class='restart-btn' onclick=\"startQuiz('${currentExam}')\">‡∏ó‡∏≥‡πÉ‡∏´‡∏°‡πà</button>`;
  quizDiv.innerHTML = html;
  saveScore(percent);
}

// --------------------- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ---------------------
function saveScore(percent){
  const key = 'yct_leaderboard_v1';
  const data = JSON.parse(localStorage.getItem(key)||'{}');
  const now = new Date().toLocaleString('th-TH');
  if(!data[currentExam]) data[currentExam] = {};
  data[currentExam][now] = percent;
  localStorage.setItem(key, JSON.stringify(data));
}

// --------------------- Leaderboard ---------------------
function openLeaderboard(){
  const quizDiv = document.getElementById('quiz');
  const data = JSON.parse(localStorage.getItem('yct_leaderboard_v1')||'{}');
  let html = '<h2>üèÜ Leaderboard</h2>';
  ['yct1','yct2'].forEach(ex=>{
    html += `<h3>${ex.toUpperCase()}</h3>`;
    const entries = data[ex] ? Object.entries(data[ex]).sort((a,b)=>b[1]-a[1]).slice(0,10) : [];
    if(entries.length===0) html += '<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>';
    else html += entries.map(([d,s])=>`<div>${d} ‚Äî ${s}%</div>`).join('');
  });
  html += `<button class='teacher-btn' onclick='enterTeacherMode()'>‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏π üßë‚Äçüè´</button>`;
  html += `<button class='restart-btn' onclick=\"startQuiz('yct1')\">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏≥‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö</button>`;
  quizDiv.innerHTML = html;
}

// --------------------- ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏π ---------------------
function enterTeacherMode(){
  const email = prompt("‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏£‡∏π‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°:");
  if(password === "2222"){
    isTeacher = true;
    alert("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏π‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚úÖ");
    teacherPanel();
  } else {
    alert("‚ùå ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏£‡∏π‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ");
  }
}

function teacherPanel(){
  const quizDiv = document.getElementById('quiz');
  let html = '<h2>üßë‚Äçüè´ ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏π</h2>';
  html += '<p>‡∏•‡∏ö Leaderboard ‡∏ó‡∏µ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á YCT 1 ‡πÅ‡∏•‡∏∞ YCT 2</p>';
  html += `<button class='delete-btn' onclick='deleteSingleYCT1()'>üóëÔ∏è ‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å YCT 1</button>`;
  html += `<button class='delete-btn' onclick='deleteSingleYCT2()'>üóëÔ∏è ‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å YCT 2</button>`;
  html += `<button class='restart-btn' onclick='openLeaderboard()'>‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏î‡∏π Leaderboard</button>`;
  quizDiv.innerHTML = html;
}

// --------------------- ‡∏•‡∏ö‡∏ó‡∏µ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ---------------------
function deleteSingleYCT1(){
  const key = 'yct_leaderboard_v1';
  const data = JSON.parse(localStorage.getItem(key)||'{}');
  if(!data['yct1'] || Object.keys(data['yct1']).length === 0){
    return alert("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å YCT 1 ‡πÉ‡∏´‡πâ‡∏•‡∏ö ‚ùå");
  }
  let list = Object.entries(data['yct1']).map(([k,v],i)=>`${i+1}. ${k} ‚Äî ${v}%`).join("\n");
  let index = prompt("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö YCT 1:\n"+list+"\n‡∏Å‡∏£‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç:");
  index = Number(index)-1;
  if(index<0 || index>=Object.keys(data['yct1']).length) return alert("‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
  const keyToDelete = Object.keys(data['yct1'])[index];
  delete data['yct1'][keyToDelete];
  localStorage.setItem(key, JSON.stringify(data));
  alert("‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å YCT 1 ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚úÖ");
  teacherPanel();
}

function deleteSingleYCT2(){
  const key = 'yct_leaderboard_v1';
  const data = JSON.parse(localStorage.getItem(key)||'{}');
  if(!data['yct2'] || Object.keys(data['yct2']).length === 0){
    return alert("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å YCT 2 ‡πÉ‡∏´‡πâ‡∏•‡∏ö ‚ùå");
  }
  let list = Object.entries(data['yct2']).map(([k,v],i)=>`${i+1}. ${k} ‚Äî ${v}%`).join("\n");
  let index = prompt("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö YCT 2:\n"+list+"\n‡∏Å‡∏£‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç:");
  index = Number(index)-1;
  if(index<0 || index>=Object.keys(data['yct2']).length) return alert("‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
  const keyToDelete = Object.keys(data['yct2'])[index];
  delete data['yct2'][keyToDelete];
  localStorage.setItem(key, JSON.stringify(data));
  alert("‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å YCT 2 ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚úÖ");
  teacherPanel();
}

// --------------------- ‡πÄ‡∏£‡∏¥‡πà‡∏° ---------------------
startQuiz('yct1');
</script>
</body>
</html>
